# 工作日报记录 2021

## 2021/11/16

- 今日完成了哪些工作
  1. 熟悉项目结构和机制
  2. 居家养老大屏引入 sass2 项目的模板
  3. 居家养老大屏组件封装
- 明天的任务
  封装养老大屏 echarts 组件

## 2021/11/17

- 今日完成了哪些工作

  1. 表格列表组件 & 信息面板列表组件调整和样式优化
  2. 提取样式主题色,配置 less 主题变量全局可用
     [sass-resources-loader](https://github.com/shakacode/sass-resources-loader#vuejs-webpack-templatevue-cli3)
     [style-resources-loader](https://github.com/shakacode/sass-resources-loader#vuejs-webpack-templatevue-cli3https://www.cnblogs.com/linbudu/p/11445137.html)

  ```js
  // 1. 安装 sass-resources-loader `npm install sass-resources-loader`
  // 2. 在 vue.config.js 文件中添加以下配置
  chainWebpack: (config) => {
    const oneOfsMap = config.module.rule('less').oneOfs.store
    oneOfsMap.forEach(item => {
      item
        .use('sass-resources-loader')
        .loader('sass-resources-loader')
        .options({
          // 向全局less样式传入共享的全局变量(这里引入了居家养老项目的主题色变量)
          // resources: './src/styles/ylThemeColor.less',
          // resources: [resolve('src/styles/ylThemeColor.less'),]
          resources: ['./src/styles/ylThemeColor.less',]
        })
        .end()
    })
  },
  ```

  3. 在 vue 原型上挂在 echarts, 以便在 echarts 配置单中通过 `new this.echarts.Xxx()` 的形式使用 echarts 上的构造方法
  4. 项目素材整理 & 根据蓝湖配色整理主题色 & 主页公共部分编码
  5. 面板组件初步封装

- 遇到了什么问题
  1. 想要一个全局主题样式配置可以在全局使用
  2. 想使用 echarts 的渐变色彩
- 准备尝试哪些措施
  1. vue.config.js 文件中配置对应的主题文件
  2. 在 vue 原型上挂在 echarts, 以便在 echarts 配置单中通过 `new this.echarts.Xxx()` 的形式使用 echarts 上的构造方法
- 今日未完成
- 明天的任务
  编码页面布局 & 封装组件

## 2021/11/18

- 今日完成了哪些工作
  1. 项目资源更新
  2. 页面布局 & 内容初步整理
  3. 页面布局调整 & 组件更新
- 明天的任务
  封装剩余的组件

## 2021/11/19

- 今日完成了哪些工作
  1. 两个 echarts 饼图组件
  2. 新增一个信息展示组件 & 调整 ChartPieTaichi 组件
  3. 页面布局调整
  4. 页面宽高自适应布局
- 明天的任务
  1. echarts 组件数据提取
  2. 页面内容整理 & 公共布局样式提取

## 2021/11/22

- 今日完成了哪些工作
  1. 数据概览页面添加标签切换内容 & 复写 ivu 标签切换组件的样式
  2. 表格列表组件颜色调整
  3. TimeDay 组件 bug 修复
  4. 列表组件加入自动滚动组件控制
  5. 页面适配值计算 & aMap 地图
  6. aMap 缩放和定位中心点不生效的问题
  7. 两个大屏页面整理
- 遇到了什么问题
  aMap 缩放和定位中心点不生效的问题
- 准备尝试哪些措施
  将封装的 aMap 组件 onload 处理逻辑临时去掉
- 今日未完成
- 明天的任务
  1. aMap 展示内容编码
  2. 项目整体整理

## 2021/11/23

- 今日完成了哪些工作
  1. 表格列表组件添加一些优化选项(指定每列列宽/占比/文本超出处理)
  2. 页面模拟数据提取
  3. echarts 组件展示数据 & 颜色配置项提取
  4. echarts 组件颜色配置项优化 => 提供部分配置的能力
  5. 页面内容整理
  6. 页面其他内容模拟数据接入
  7. LargeNumInfo 组件逻辑整理
- 明天的任务
  1. 部分数据对接
  2. 项目持续调整优化

## 2021/11/24

- 今日完成了哪些工作
  1. echarts 展示细节调整
  2. 页面纵向高度适配调整
  3. 对接后台登录接口
  4. 接口整理,测试的能力
- 明天的任务
  1. 数据对接
  2. 数据处理 & 调整

## 2021/11/25

- 今日完成了哪些工作
  1. 字段映射表整理
  2. 页面数据的整理分析
  3. 数据对接更新
  4. 数据转换方法更新 & 数据概览左侧数据对接处理
  5. 监控页面左侧 echarts 数据对接处理
- 明天的任务
  1. 继续对接数据

## 2021/11/26

- 今日完成了哪些工作
  1. 数据转换方法更新
  2. 添加新的数据映射数据
  3. 对接家庭服务和管家服务的接口
  4. 事件列表数据对接,数据部分处理
  5. 更新数据处理方法
- 明天的任务
  1. 继续对接数据

## 2021/11/27

- 今日完成了哪些工作
  1. 地图区域之外的数据对接和处理
- 明天的任务
  1. 地图数据对接
  2. 页面交互处理

## 2021/11/29

- 今日完成了哪些工作
  1. 监控页事件列表数据关联的异步处理
  2. 内容的优化组织
  3. 地图标记点信息和飞线调试
  4. 调试 websocket 接口
- 明天的任务
  1. 地图数据展示的对接和交互处理

## 2021/11/30

- 今日完成了哪些工作
  1. 地图组件添加 Scatter 拓展
  2. 飞线 & Scatter 在地图组件中实例化
  3. 解决 new 创建飞线和 Scatter 类时调用 init 生成了对应 Layer 导致渲染出错的问题
  4. 地图 marker 的绘制 & 模板抽取
- 明天的任务
  1. 地图数据接入处理 & 页面交互

## 2021/12/01

- 今日完成了哪些工作

  1. 地图部分的数据展示和交互
  2. 概览页平台用户和服务商用户界面编码
  3. 页面和标签页切换的交互

- 明天的任务
  1. 页面整体调整

## 2021/12/02

- 今日完成了哪些工作

  1. 合并 sass2 的 store & enum & mixin 文件
  2. 完成平台和服务商用户视图分离
  3. 完成概览和监控页面地图对接后台数据
  4. 实时监控页面接入 websocket 通讯

- 明天的任务
  1. 页面显示优化 & 补充交互

## 2021/12/03

- 今日完成了哪些工作

1. 优化页面显示问题
2. 解决滚动组件连续滚动的问题
3. 补充了页面漏掉的内容
4. 地图展示的调整

- 遇到了什么问题
  1. 地图无法正常渲染
- 准备尝试哪些措施
  1. 常规调试
  2. 代码回滚测试
  3. 控制变量
  4. 怀疑浏览器的问题
- 今日未完成
- 明天的任务
  1. 页面按要求进行优化

## 2021/12/06

- 今日完成了哪些工作
  1. 完成新大屏展示样式优化 & 数据问题修复
  2. 完成养老大屏两版代码合并
- 明天的任务
  1. 地图部分的交互逻辑补充

## 2021/12/07

- 今日完成了哪些工作

  1. 新大屏问题优化/修复

  - add: listToChart 添加排序选项
  - 设备占比组件重写 & 数据计算
  - fixed: tableList 组件内容不超出不滚动
  - 一些定时器的清理
  - 抽取 CustBar 组件 & CustBar 组件初始化以及响应式动画效果
  - 补充 TableList 组件标题

  2. 旧版养老大屏

  - 页面布局调整
  - 补充 datav.ico
  - 修复处理告警信息延后显示的问题

- 明天的任务
  1. 地图部分的交互逻辑补充

## 2021/12/08

- 今日完成了哪些工作

  1. 新养老大屏的一些优化

  - 页面布局调整优化
  - 补充一些数据排序问题
  - 补充饼图配色不足
  - 页面视图切换的交互配置化,将配置项提取到 store
  - 新增页面配置组件 & 应用

  2. 修复旧版养老大屏 bug

  - 修复旧大屏告警事件页面交互展示 bug

- 明天的任务
  1. 丰富页面告警数据交互
  - 点击事件概览显示详细信息面板
  - 查看所有告警清单
  - 多条告警密集产生时的处理逻辑

## 2021/12/09

- 今日完成了哪些工作

1. 修复登录页视图问题
2. 对接模板选择页
3. 实时监控页告警事件事件视图和数据编码

- 明天的任务

1. 添加告警事件和地图的交互

## 2021/12/10

- 今日完成了哪些工作

1. 添加告警事件模拟 & 多告警事件简单队列提醒
2. 实时监控家庭标记点及其交互
3. 监控页地图合适的缩放级别切换
4. 布局调整 => 两边收窄
5. 修复告警框样式问题 & 告警消息不消失的问题
6. 清除 v2 和 v1 的耦合

- 明天的任务

1. 消息队列和语音播报
2. 添加事件列表交互
3. 新视图的样式统一

## 2021/12/11

- 今日完成了哪些工作

1. 新大屏告警事件交互 & 修复已知问题

- 修复一些空指针报错问题
- 修复两个地图视图交叉 => 地图组件分离
- 告警语音播报处理
- 告警事件队列处理
- 告警推送的数据模拟更新,补充状态 4

2. 旧大屏内容调整

- 补充完成评价流程的消息提示
- 调整事件类型 && 已完成事件类型改为事件 status 1 和 2 的合集

* 遇到了什么问题
* 准备尝试哪些措施
* 今日未完成
* 明天的任务

1. 大屏功能 & 交互查漏补缺
2. 大屏代码整理优化

## 2021/12/13

- 今日完成了哪些工作

1. 完成新大屏告警事件交互
2. 🚀 两个版本大屏最新代码合并 & 新大屏发布!!!
3. 统一新大屏补充视图的样式
4. 修复联大屏一些数据问题

- 明天的任务

1. 大屏内容优化
2. 大屏测试 & 修复可能的问题

## 2021/12/14

- 今日完成了哪些工作

1. 完成新大屏告警事件交互
2. 🚀 两个版本大屏最新代码合并 & 新大屏发布!!!
3. 统一新大屏补充视图的样式
4. 修复联大屏一些数据问题

- 明天的任务

1. 大屏继续查问题
2. 大屏主题整体调整

## 2021/12/15

- 今日完成了哪些工作

1. 新大屏:

- 解决评论不能显示 emoji 表情的问题
- 添加短信验证码登录选项

2. 旧大屏:

- 修复标记点数据和新接口返回值的匹配问题
- 评论显示 emoji 表情的功能

* 遇到了什么问题
* 准备尝试哪些措施
* 今日未完成
* 明天的任务

1. 大屏新设计的开发

## 2021/12/16

- 今日完成了哪些工作

1. 大屏更换新主题

- 明天的任务

1. 大屏新的开发任务

## 2021/12/17

- 今日完成了哪些工作

1. 补充页面切换的交互和样式 & 补充新的页面路由
2. 项目整体效果调整
3. 统计报表页面的布局和内容填充(模拟数据展示)
4. 解决 ES 新特性报错的问题 => 更新相应依赖和配置

- 明天的任务

1. 继续大屏新的开发任务

## 2021/12/21

- 今日完成了哪些工作

1. 修正页面路由标签激活项初始化展示
2. 统计页面 echarts 组件的兼容拓展
3. 统计页面样式的优化统一

- 明天的任务

1. 数据概览页数据对接处理

## 2021/12/22

- 今日完成了哪些工作

1. 初步完成统计报表页数据对接
2. 统计报表页面发布

- 明天的任务

1. 数据概览页细节处理
2. 服务概览页编码

## 2021/12/23

- 今日完成了哪些工作

1. 统计报表页的调整
   - 管家综合评分数据对接处理
   - 守护人年龄分段数据更新
2. 数据一些容错处理
3. 日期和服务商条件筛选
4. 服务商信息界面 & 数据对接

- 明天的任务

1. 统计报表数据部分接口的条件筛选
2. 大屏查漏补缺
3. 数据加载动画

## 2021/12/24

- 今日完成了哪些工作

1. 大屏优化 & 问题修复

- 数据首次加载部分为空的问题
- echarts 图表动画
- echarts tooltip 超出截断问题
- 管家评分为空的展示问题
- 添加数据加载动画
- 数据为空的占位修改

- 明天的任务

1. 统计报表数据部分接口根据情况换新

## 2021/12/25

- 今日完成了哪些工作

1. 服务商列表 & 服务商详情补充数据加载和为空的视图
2. 告警详情页 echarts 视图映射设备状态描述

- 明天的任务

1. 页面修改尺寸后布局
2. 补充数据更新机制
3. 页面整理

## 2021/12/27

- 今日完成了哪些工作

1. 统计报表页面的接口调整
2. 给 ChartBarRow.vue 组件添加数据轮询动画
3. 页面修改尺寸后布局自适应

- 明天的任务

1. 补充数据更新机制
2. 其他 echarts 动画效果补全
3. 页面整理

## 2021/12/28

- 今日完成了哪些工作

1. 页面显示优化

   - ChartBarRow 组件动画优化,只要从左到右的过程
   - ChartBarCol 组件添加 tooltip 轮播动画
   - 日期选择筛选 => 202111 月份之前 & 当前月份之后禁选
   - tabs 标签自动切换
   - ChartLine 动画 update 受干扰的问题
   - 调整地图飞线初始化出来时间长的问题

2. 修复 spInfo 面板管家数量获取的的问题
3. 服务商选择使用级联菜单

- 明天的任务

1. 页面整理

## 2021/12/30

- 今日完成了哪些工作

1. 调研高德地图 1.4 版本上绘制好看的 Loca 实例 => 没有相应的机制
2. 优化布局
3. 数据刷新机制问题查找修复

- 明天的任务

1. 项目整理

## 2021/12/31

- 今日完成了哪些工作

1. 添加消息推送的评分信息
2. 修复服务商子用户无法收到告警推送
3. 排查管家综合评分无数据问题

- 遇到了什么问题

1. 地图卡顿的问题

- 准备尝试哪些措施

1. 排查是否因地图控件引起
2. 检查地图实例的销毁情况
3. default-passive-events
4. 告警信息窗影响

- 今日未完成
- 明天的任务

1. 地图卡顿的问题
2. 数据更新机制

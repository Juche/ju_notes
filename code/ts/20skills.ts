/**
 * @TS é‡ç‚¹
 * ! åªæœ‰æ•°å­—æšä¸¾æˆå‘˜æ‰ä¼šæœ‰åå‘æ˜ å°„ï¼Œå­—ç¬¦ä¸²æˆ–å…¶å®ƒå€¼æ˜¯æ²¡æœ‰çš„
 * ! å­—ç¬¦ä¸²æšä¸¾æ˜¯æ²¡æœ‰é€’å¢çš„ï¼Œå½“å‰çš„æšä¸¾æˆå‘˜å‰ä¸€ä¸ªå€¼ä¸ºå­—ç¬¦ä¸²ï¼Œé‚£ä¹ˆå½“å‰çš„æšä¸¾å¯¹è±¡å¦‚æœä¸èµ‹å€¼å°±ä¼šæŠ¥é”™
 */

interface Person {
  name: string;
  sex: string;
  age?: number;
  addr?: string;
}

// 1.ä½¿ç”¨æ˜¾å¼ç±»å‹è€Œä¸æ˜¯â€œanyâ€
// å°½å¯èƒ½é¿å…ä½¿ç”¨ any ç±»å‹ï¼Œå› ä¸ºå®ƒä¼šç ´å TypeScript çš„ä¼˜åŠ¿ã€‚ç›¸åï¼Œæ˜¾å¼å®šä¹‰å˜é‡ã€å‡½æ•°å’Œå‚æ•°çš„ç±»å‹ã€‚
function add(a: number, b: number): number {
  return a + b;
}

// 2. åœ¨ tsconfig.json ä¸­å¯ç”¨â€œä¸¥æ ¼â€æ¨¡å¼
// å¯ç”¨â€œä¸¥æ ¼â€æ¨¡å¼å¯ç¡®ä¿ TypeScript æ‰§è¡Œå¹¿æ³›çš„ç±»å‹æ£€æŸ¥ï¼Œä»è€Œåœ¨å¼€å‘è¿‡ç¨‹çš„æ—©æœŸæ•è·æ½œåœ¨çš„é”™è¯¯ã€‚

// 3.ä½¿ç”¨åªè¯»æ•°ç»„
// åˆ©ç”¨åªè¯»æ¥é˜²æ­¢å¯¹å¯¹è±¡å’Œæ•°ç»„çš„æ„å¤–ä¿®æ”¹ã€‚
const person = <Readonly<Person>>{
  name: 'Juching',
  sex: 'male',
};
// person.name = 'Juche';

const months = <Readonly<number[]>>[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12];
// months.push(13);

// 4. ä½¿ç”¨è§£æ„æ¥æå–å±æ€§
// è§£æ„å¯ä»¥ä½¿æ‚¨çš„ä»£ç æ›´ç®€æ´ã€æ›´æ˜“äºé˜…è¯»ã€‚
function getPerson({ name, sex }: Person) {
  console.log(`ğŸš€ ~ getPerson ~ name: ${name} - ${sex}`);
}
getPerson(person);

// 5. æ•°ç»„æ³›å‹ä¼˜äºç±»å‹è½¬æ¢
// ä½¿ç”¨æ•°ç»„æ³›å‹æ¥æŒ‡å®šæ•°ç»„ä¸­å…ƒç´ çš„ç±»å‹ï¼Œè€Œä¸æ˜¯ç±»å‹è½¬æ¢ã€‚
const numbers = <number[]>[1, 2, 3];
const firstNum = <number>numbers[0];

// 6. ä½¿ç”¨æšä¸¾ä½œä¸ºå¸¸é‡
// ä½¿ç”¨æšä¸¾æ¥è¡¨ç¤ºä¸€ç»„ç›¸å…³å¸¸é‡ï¼Œä»¥æé«˜ä»£ç çš„å¯è¯»æ€§å’Œå¯ç»´æŠ¤æ€§ã€‚
enum Seasons {
  spring = 'æ˜¥',
  summer = 'å¤',
  autumn = 'ç§‹',
  winter = 'å†¬',
}
console.log(`ğŸš€ ~ Seasons.spring:`, Seasons.spring);
// console.log(`ğŸš€ ~ Seasons['æ˜¥']:`, Seasons['æ˜¥']);  // é”™è¯¯å–å€¼

enum Gender {
  male = 1,
  female,
}
console.log(`ğŸš€ ~ Gender.female:`, Gender.female);
console.log(`ğŸš€ ~ Gender[1]:`, Gender[1]);

// 7. å¯¹äºå¯¹è±¡å½¢çŠ¶ï¼Œä¼˜å…ˆé€‰æ‹©æ¥å£è€Œä¸æ˜¯ç±»å‹åˆ«å
// åœ¨å®šä¹‰å¯¹è±¡çš„å½¢çŠ¶æ—¶ä½¿ç”¨æ¥å£æ¥åˆ©ç”¨å…¶å¯æ‰©å±•æ€§ã€‚
// type Person1 = {
interface Person1 {
  name: string;
  age: number;
}

// 8. å¯¹å¯é…ç½®å¯¹è±¡ä½¿ç”¨å¯é€‰å±æ€§
// åœ¨æ¥å£ä¸­ä½¿ç”¨å¯é€‰å±æ€§å¯ä»¥åœ¨é…ç½®å¯¹è±¡æ—¶å®ç°çµæ´»æ€§ã€‚

// 9. ä½¿ç”¨ TypeScript çš„å®ç”¨ç±»å‹
// åˆ©ç”¨ TypeScript çš„å†…ç½®å®ç”¨ç¨‹åºç±»å‹ï¼ˆä¾‹å¦‚ Partialã€Pick å’Œ Omitï¼‰æ¥é¿å…ä¸å¿…è¦çš„é‡å¤å¹¶ç®€åŒ–ä»£ç ã€‚
type PartialPerson = Partial<Person>; // Makes all properties optional
type PersonName = Pick<Person, 'name'>; // Extracts a subset of properties
type PersonWithoutAge = Omit<Person, 'age'>; // Removes a property

// 10. å¯¹å¤šç§å¯èƒ½çš„ç±»å‹ä½¿ç”¨è”åˆç±»å‹
// ä½¿ç”¨è”åˆç±»å‹æŒ‡å®šä¸€ä¸ªå˜é‡å¯ä»¥ä¿å­˜å¤šç§ç±»å‹çš„å€¼ã€‚
function formatInput(input: string | number) {
  return `Input: ${input}`;
}

// 11.åˆ©ç”¨äº¤å‰ç±»å‹æ¥ç»„åˆç±»å‹
// ä½¿ç”¨äº¤é›†ç±»å‹å°†å¤šç§ç±»å‹åˆå¹¶ä¸ºå•ä¸€ç±»å‹ã€‚
interface Shape {
  color: string;
}

interface Circle {
  radius: number;
}

interface Rectangle {
  width: number;
  height: number;
}

type RedCircle = Shape & Circle;
type RedRectangle = Shape & Rectangle;

const redCircle: RedCircle = { color: 'red', radius: 5 };
const redRectangle: RedRectangle = { color: 'red', width: 10, height: 20 };

// 12. ä½¿ç”¨ç±»å‹ä¿æŠ¤è¿›è¡Œç±»å‹æ–­è¨€
// ä½¿ç”¨ç±»å‹ä¿æŠ¤æ¥ç¼©å°æ¡ä»¶å—ä¸­å˜é‡çš„ç±»å‹èŒƒå›´ã€‚
function formatValue(value: string | number): string {
  if (typeof value === 'number') {
    return value.toFixed(2);
  } else if (typeof value === 'string') {
    return value.toUpperCase();
  } else {
    throw new Error('Invalid value');
  }
}

// 13.æ›´å–œæ¬¢å‡½æ•°å¼ç¼–ç¨‹æŠ€æœ¯
// åˆ©ç”¨å‡½æ•°å¼ç¼–ç¨‹æŠ€æœ¯ï¼ˆä¾‹å¦‚ä¸å˜æ€§å’Œçº¯å‡½æ•°ï¼‰æ¥æé«˜ä»£ç æ¸…æ™°åº¦å¹¶å‡å°‘å‰¯ä½œç”¨ã€‚

// 14. ä½¿ç”¨ç©ºåˆå¹¶è¿ç®—ç¬¦ (??)
// ç©ºå€¼åˆå¹¶è¿ç®—ç¬¦ (??) æä¾›äº†ä¸€ç§å¤„ç†ç©ºå€¼æˆ–æœªå®šä¹‰å€¼çš„ç®€æ´æ–¹æ³•ã€‚
const value = 0;
const defaultValue = value ?? 1;

// 15. ä½¿ç”¨å¯é€‰é“¾æ¥ (?.)
// å¯é€‰é“¾æ¥ (?.) ç®€åŒ–äº†å¯¹å¯èƒ½æœªå®šä¹‰æˆ–ä¸º null çš„å¯¹è±¡å±æ€§çš„è®¿é—®ã€‚

// 16.æ æ†ç±»å‹æ¨æ–­
// åˆ©ç”¨ TypeScript çš„ç±»å‹æ¨æ–­åŠŸèƒ½æ¥é¿å…å†—ä½™çš„ç±»å‹æ³¨é‡Šã€‚

// 17.é¿å…æ·±å±‚åµŒå¥—
// åˆ©ç”¨ TypeScript çš„ç±»å‹æ¨æ–­åŠŸèƒ½æ¥é¿å…å†—ä½™çš„ç±»å‹æ³¨é‡Šã€‚

// 18.éµå¾ªä¸€è‡´çš„å‘½åçº¦å®š
// éµå®ˆå˜é‡ã€å‡½æ•°å’Œç±»çš„ä¸€è‡´å‘½åçº¦å®šï¼Œä»¥æé«˜ä»£ç çš„å¯è¯»æ€§ã€‚ä½¿ç”¨ä¼ è¾¾å®ä½“ç›®çš„çš„æè¿°æ€§åç§°ã€‚

// 19. æ¨¡å—åŒ–ä½ çš„ä»£ç 
// å°†ä»£ç åˆ†è§£ä¸ºæ›´å°çš„æ¨¡å—ï¼Œæ¯ä¸ªæ¨¡å—è´Ÿè´£ç‰¹å®šçš„åŠŸèƒ½ã€‚è¿™æé«˜äº†å¯é‡ç”¨æ€§å’Œå¯ç»´æŠ¤æ€§ã€‚

// 20.å†™ä¸‹æ¸…æ™°ç®€æ´çš„è¯„è®º
// æ·»åŠ æ³¨é‡Šæ¥è§£é‡Šå¤æ‚çš„ç®—æ³•ã€é‡è¦çš„å†³ç­–æˆ–è¾¹ç¼˜æƒ…å†µã€‚é¿å…ä»…ä»…é‡è¿°ä»£ç çš„è¿‡å¤šæ³¨é‡Šã€‚

// æ€»ç»“
// ç¼–å†™æ¸…æ™°é«˜æ•ˆçš„ TypeScript ä»£ç éœ€è¦ç»ƒä¹ ã€æ³¨é‡ç»†èŠ‚å¹¶éµå®ˆæœ€ä½³å®è·µã€‚
// æœ¬æ–‡åˆ†äº«çš„20ä¸ªæŠ€å·§ï¼Œå°†èƒ½å¤Ÿå¸®åŠ©æ‚¨ç”Ÿæˆæ›´æ˜“äºç†è§£ã€ç»´æŠ¤å’Œæ‰©å±•çš„é«˜è´¨é‡ä»£ç ã€‚
